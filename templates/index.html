<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Starbucks Drink Recommendation</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <header>
        <h1>Brew My Recommendations by Nihith</h1>
    </header>
    <div class="container">
        <div class="content">
            <h3>Select Your Favorite Drinks:</h3>
                <form id="recommendationForm" method="POST">
                    <div class="sections">
                        <div class="section">
                            <img src="https://globalassets.starbucks.com/digitalassets/products/bev/SBX20190617_CaffeAmericano.jpg?impolicy=1by1_tight_288" alt="Hot Coffees"><br>
                            <h4>Hot Coffees</h4><br>
                            <label><input type="checkbox" name="selected_drinks" value="Americano"> Americano</label>
                            <label><input type="checkbox" name="selected_drinks" value="Blonde Vanilla Latte"> Blonde Vanilla Latte</label>
                            <label><input type="checkbox" name="selected_drinks" value="Caffe Latte"> Caffe Latte</label>
                            <label><input type="checkbox" name="selected_drinks" value="Caffe Mocha"> Caffe Mocha</label>
                            <label><input type="checkbox" name="selected_drinks" value="Cappuccino"> Cappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Caramel Macchiato"> Caramel Macchiato</label>
                            <label><input type="checkbox" name="selected_drinks" value="Cinnamon Dolce Latte"> Cinnamon Dolce Latte</label>
                            <label><input type="checkbox" name="selected_drinks" value="Dark Chocolate Mocha Reserve"> Dark Chocolate Mocha Reserve</label>
                            <label><input type="checkbox" name="selected_drinks" value="Drip Brew Coffee"> Drip Brew Coffee</label>
                            <label><input type="checkbox" name="selected_drinks" value="Espresso"> Espresso</label>
                            <label><input type="checkbox" name="selected_drinks" value="Espresso Con Panna"> Espresso Con Panna</label>
                            <label><input type="checkbox" name="selected_drinks" value="Espresso Macchiato"> Espresso Macchiato</label>
                            <label><input type="checkbox" name="selected_drinks" value="Flat White"> Flat White</label>
                            <label><input type="checkbox" name="selected_drinks" value="Hazelnut Bianco Latte Reserve"> Hazelnut Bianco Latte Reserve</label>
                            <label><input type="checkbox" name="selected_drinks" value="Honey Almondmilk Flat White"> Honey Almondmilk Flat White</label>
                            <label><input type="checkbox" name="selected_drinks" value="Latte Reserve"> Latte Reserve</label>
                            <label><input type="checkbox" name="selected_drinks" value="White Chocolate Mocha"> White Chocolate Mocha</label>
                            <br>
                            <img src="https://globalassets.starbucks.com/digitalassets/products/bev/SBX20190617_SignatureHotChocolate.jpg?impolicy=1by1_tight_288" alt="Milk, Juice &amp; More" role="presentation"><br>
                            <h4>Hot Drinks</h4><br>
                            <label><input type="checkbox" name="selected_drinks" value="Caramel Apple Spice"> Caramel Apple Spice</label>
                            <label><input type="checkbox" name="selected_drinks" value="Hot Chocolate"> Hot Chocolate</label>
                            <label><input type="checkbox" name="selected_drinks" value="Steamed Apple Juice"> Steamed Apple Juice</label>
                            <label><input type="checkbox" name="selected_drinks" value="Steamed Milk"> Steamed Milk</label>
                            <label><input type="checkbox" name="selected_drinks" value="Vanilla Creme"> Vanilla Creme</label>
                            <label><input type="checkbox" name="selected_drinks" value="White Hot Chocolate"> White Hot Chocolate</label>
                            <br>
                            <img src="https://globalassets.starbucks.com/digitalassets/products/bev/SBX20220411_ChaiLatte.jpg?impolicy=1by1_tight_288" alt="Hot Teas" role="presentation"><br>
                            <h4>Hot Teas</h4><br>
                            <label><input type="checkbox" name="selected_drinks" value="Chai Tea"> Chai Tea</label>
                            <label><input type="checkbox" name="selected_drinks" value="Chai Tea Latte"> Chai Tea Latte</label>
                            <label><input type="checkbox" name="selected_drinks" value="Earl Grey Tea"> Earl Grey Tea</label>
                            <label><input type="checkbox" name="selected_drinks" value="Emperors Cloud & Mist"> Emperors Cloud & Mist</label>
                            <label><input type="checkbox" name="selected_drinks" value="English Breakfast Tea"> English Breakfast Tea</label>
                            <label><input type="checkbox" name="selected_drinks" value="English Tea Latte"> English Tea Latte</label>
                            <label><input type="checkbox" name="selected_drinks" value="Honey Citrus Mint Tea"> Honey Citrus Mint Tea</label>
                            <label><input type="checkbox" name="selected_drinks" value="Jade Citrus Mint Tea"> Jade Citrus Mint Tea</label>
                            <label><input type="checkbox" name="selected_drinks" value="London Fog Tea Latte"> London Fog Tea Latte</label>
                            <label><input type="checkbox" name="selected_drinks" value="Mango Black Tea"> Mango Black Tea</label>
                            <label><input type="checkbox" name="selected_drinks" value="Matcha Tea Latte"> Matcha Tea Latte</label>
                            <label><input type="checkbox" name="selected_drinks" value="Mint Majesty Tea"> Mint Majesty Tea</label>
                            <label><input type="checkbox" name="selected_drinks" value="Peach Tranquility Tea"> Peach Tranquility Tea</label>
                            <br>
                        </div>
                        
                        <div class="section">
                            <img src="https://globalassets.starbucks.com/digitalassets/products/bev/SummerBerryRefreshersLemonade.jpg?impolicy=1by1_tight_288" alt="Starbucks Refreshers® Beverages" role="presentation"><br>
                            <h4>Starbucks Refreshers® Beverages</h4><br>
                            <label><input type="checkbox" name="selected_drinks" value="Blended Strawberry Lemonade"> Blended Strawberry Lemonade</label>
                            <label><input type="checkbox" name="selected_drinks" value="Dragon Drink Refreshers"> Dragon Drink Refreshers</label>
                            <label><input type="checkbox" name="selected_drinks" value="Frozen Mango Dragonfruit Lemonade"> Frozen Mango Dragonfruit Lemonade</label>
                            <label><input type="checkbox" name="selected_drinks" value="Frozen Pineapple Passionfruit Lemonade"> Frozen Pineapple Passionfruit Lemonade</label>
                            <label><input type="checkbox" name="selected_drinks" value="Frozen Strawberry Açaí Lemonade"> Frozen Strawberry Açaí Lemonade</label>
                            <label><input type="checkbox" name="selected_drinks" value="Mango Dragonfruit Lemonade Refreshers"> Mango Dragonfruit Lemonade Refreshers</label>
                            <label><input type="checkbox" name="selected_drinks" value="Mango Dragonfruit Refreshers"> Mango Dragonfruit Refreshers</label>
                            <label><input type="checkbox" name="selected_drinks" value="Paradise Drink"> Paradise Drink</label>
                            <label><input type="checkbox" name="selected_drinks" value="Pineapple Passionfruit"> Pineapple Passionfruit</label>
                            <label><input type="checkbox" name="selected_drinks" value="Pink Drink"> Pink Drink</label>
                            <label><input type="checkbox" name="selected_drinks" value="Strawberry Açaí Lemonade Refreshers"> Strawberry Açaí Lemonade Refreshers</label>
                            <label><input type="checkbox" name="selected_drinks" value="Strawberry Açaí Refreshers"> Strawberry Açaí Refreshers</label>
                            <br>
                            <img src="https://globalassets.starbucks.com/digitalassets/products/bev/SBX20221130_WhiteChocolateMacadamiaColdBrew.jpg?impolicy=1by1_tight_288" alt="Cold Coffees" role="presentation"><br>
                            <h4>Cold Coffees</h4><br>
                            <label><input type="checkbox" name="selected_drinks" value="Chocolate Cream Cold Brew"> Chocolate Cream Cold Brew</label>
                            <label><input type="checkbox" name="selected_drinks" value="Cinnamon Caramel Cream Cold Brew"> Cinnamon Caramel Cream Cold Brew</label>
                            <label><input type="checkbox" name="selected_drinks" value="Cinnamon Caramel Cream Nitro Cold Brew"> Cinnamon Caramel Cream Nitro Cold Brew</label>
                            <label><input type="checkbox" name="selected_drinks" value="Cold Brew"> Cold Brew</label>
                            <label><input type="checkbox" name="selected_drinks" value="Cold Brew Coffee with Milk"> Cold Brew Coffee with Milk</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Americano"> Iced Americano</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Blonde Vanilla Latte"> Iced Blonde Vanilla Latte</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Brown Sugar Oatmilk Shaken Espresso"> Iced Brown Sugar Oatmilk Shaken Espresso</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Caffe Latte"> Iced Caffe Latte</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Chai Tea Latte"> Iced Chai Tea Latte</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Chocolate Almondmilk Shaken Espresso"> Iced Chocolate Almondmilk Shaken Espresso</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Cinnamon Dolce Latte"> Iced Cinnamon Dolce Latte</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Coffee"> Iced Coffee</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Coffee with Milk"> Iced Coffee with Milk</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Espresso"> Iced Espresso</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Flat White"> Iced Flat White</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Hazelnut Bianco Latte Reserve"> Iced Hazelnut Bianco Latte Reserve</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Honey Almondmilk Flat White"> Iced Honey Almondmilk Flat White</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Latte Reserve"> Iced Latte Reserve</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Shaken Espresso"> Iced Shaken Espresso</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Toasted Vanilla Oatmilk Shaken Espresso"> Iced Toasted Vanilla Oatmilk Shaken Espresso</label>
                            <label><input type="checkbox" name="selected_drinks" value="Nitro Cold Brew"> Nitro Cold Brew</label>
                            <label><input type="checkbox" name="selected_drinks" value="Salted Caramel Cream Cold Brew"> Salted Caramel Cream Cold Brew</label>
                            <label><input type="checkbox" name="selected_drinks" value="Vanilla Sweet Cream Cold Brew"> Vanilla Sweet Cream Cold Brew</label>
                            <label><input type="checkbox" name="selected_drinks" value="Vanilla Sweet Cream Nitro Cold Brew"> Vanilla Sweet Cream Nitro Cold Brew</label>
                            <label><input type="checkbox" name="selected_drinks" value="White Chocolate Macadamia Cream Cold Brew"> White Chocolate Macadamia Cream Cold Brew</label>
                        </div>
                        
                    
                        
                        <div class="section">
                            <img src="https://globalassets.starbucks.com/digitalassets/products/bev/SBX20211210_MochaCookieCrumbleFrapp.jpg?impolicy=1by1_tight_288" alt="Frappuccino® Blended Beverages" role="presentation"><br>
                            <h4>Frappuccinos</h4><br>
                            <label><input type="checkbox" name="selected_drinks" value="Caffe Vanilla Frappuccino"> Caffe Vanilla Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Caramel Frappuccino"> Caramel Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Caramel Ribbon Crunch Creme Frappuccino"> Caramel Ribbon Crunch Creme Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Caramel Ribbon Crunch Frappuccino"> Caramel Ribbon Crunch Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Chai Creme Frappuccino"> Chai Creme Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Chocolate Cookie Crumble Creme Frappuccino"> Chocolate Cookie Crumble Creme Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Chocolate Java Mint Frappuccino"> Chocolate Java Mint Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Chocolate Mint Creme Frappuccino"> Chocolate Mint Creme Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Coffee Frappuccino"> Coffee Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Double Chocolaty Chip Creme Frappuccino"> Double Chocolaty Chip Creme Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Espresso Frappuccino"> Espresso Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Java Chip Frappuccino"> Java Chip Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Matcha Creme Frappuccino"> Matcha Creme Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Mocha Cookie Crumble Frappuccino"> Mocha Cookie Crumble Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Mocha Frappuccino"> Mocha Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Strawberry Creme Frappuccino"> Strawberry Creme Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="Vanilla Bean Creme Frappuccino"> Vanilla Bean Creme Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="White Chocolate Creme Frappuccino"> White Chocolate Creme Frappuccino</label>
                            <label><input type="checkbox" name="selected_drinks" value="White Chocolate Mocha Frappuccino"> White Chocolate Mocha Frappuccino</label>
                            <br>
                            <img src="https://globalassets.starbucks.com/digitalassets/products/bev/SBX20190531_IcedBlackTea.jpg?impolicy=1by1_tight_288" alt="Iced Tea and Lemonade" role="presentation"><br>
                            <h4>Iced Teas and Lemonade</h4><br>
                            <label><input type="checkbox" name="selected_drinks" value="Lemonade"> Lemonade</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Black Tea"> Iced Black Tea</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Black Tea Lemonade"> Iced Black Tea Lemonade</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Green Tea"> Iced Green Tea</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Green Tea Lemonade"> Iced Green Tea Lemonade</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced London Fog Tea Latte"> Iced London Fog Tea Latte</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Matcha Lemonade"> Iced Matcha Lemonade</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Matcha Tea Latte"> Iced Matcha Tea Latte</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Passion Tango Tea"> Iced Passion Tango Tea</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Passion Tango Tea Lemonade"> Iced Passion Tango Tea Lemonade</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Peach Green Tea"> Iced Peach Green Tea</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Peach Green Tea Lemonade"> Iced Peach Green Tea Lemonade</label>
                            <label><input type="checkbox" name="selected_drinks" value="Iced Royal English Breakfast Tea Latte"> Iced Royal English Breakfast Tea Latte</label>
                            <label><input type="checkbox" name="selected_drinks" value="Sparkling Unsweetened Peach Green Tea"> Sparkling Unsweetened Peach Green Tea</label>
                
                        </div>
                        
                        
                    </div>
                



                    <div id="filters">
                        <h3 id="craving_text">I am Craving ......... </h3>
                        <div class="form-group">
                            <button type="button" class="btn btn-outline-primary mr-2 mb-2 toggle-button" name="include_all">Everything</button>
                            <button type="button" class="btn btn-outline-primary mr-2 mb-2 toggle-button" name="include_coffee"> Coffee</button>
                            <button type="button" class="btn btn-outline-primary mr-2 mb-2 toggle-button" name="include_tea"> Tea</button>
                            <button type="button" class="btn btn-outline-primary mr-2 mb-2 toggle-button" name="include_neither">Neither Coffee Nor Tea</button>
                            <button type="button" class="btn btn-outline-primary mr-2 mb-2 toggle-button" name="include_hot">Something Hot to Sip</button>
                            <button type="button" class="btn btn-outline-primary mr-2 mb-2 toggle-button" name="include_cold">Some Cold Drink to Chill</button>
                            <button type="button" class="btn btn-outline-primary mr-2 mb-2 toggle-button" name="include_frozen">Something Frozen</button>
                        </div>
                        <input type="hidden" name="n_recommendations" value="5">
                        
                        <!-- Add hidden input fields for filter values -->
                        <input type="hidden" name="include_all" value="">
                        <input type="hidden" name="include_coffee" value="">
                        <input type="hidden" name="include_tea" value="">
                        <input type="hidden" name="include_neither" value="">
                        <input type="hidden" name="include_hot" value="">
                        <input type="hidden" name="include_cold" value="">
                        <input type="hidden" name="include_frozen" value="">
                        
                        <!-- Submit button -->
                        <input id="recommendations" type="submit" value="Brew My Recommendations">
                    </div>
                </form>
        </div>
    </div>
    
    <div class="output" id="recommendationsOutput">
        <!-- This section will be dynamically updated with recommendations -->
    </div>   
    
    <footer>
        <p>© 2024 Starbucks Drink Recommendation App by Nihith. All rights reserved.....</p>
    </footer>   
    

    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script>
        
    <!-- Your custom JavaScript -->
    <script>
        $(document).ready(function () {
            console.log("Document ready!");  // Check if document is ready

            $('.toggle-button').click(function () {
                console.log("Button clicked:", this.name);  // Check if button click is detected
                $(this).toggleClass('active');

                let hiddenInput = $('input[name="' + this.name + '"]');
                if ($(this).hasClass('active')) {
                    hiddenInput.val('1');
                } else {
                    hiddenInput.val('');
                }

                let anyActive = $('.toggle-button.active').length > 0;
                if (anyActive) {
                    $('#recommendationsOutput').show();
                } else {
                    $('#recommendationsOutput').hide();
                }
            });
        });

        document.getElementById('recommendationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            var formData = new FormData(this);

            fetch('/recommend', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                var recommendationsDiv = document.getElementById('recommendationsOutput');
                recommendationsDiv.innerHTML = ''; // Clear previous recommendations

                if (data.recommendations && data.recommendations.length > 0) {
                    var ul = document.createElement('ul');
                    data.recommendations.forEach(function(drink) {
                        var li = document.createElement('li');
                        li.textContent = `${drink.Drink_name} (Distance: ${drink.distance.toFixed(2)})`;
                        ul.appendChild(li);
                    });
                    recommendationsDiv.appendChild(ul);
                } else {
                    recommendationsDiv.textContent = 'No recommendations found.';
                }
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById('recommendationsOutput').textContent = 'An error occurred while fetching recommendations.';
            });
        });
    </script>
</body>
</html>        